<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        .p-5{
            background-color:bisque;
        }
    </style>
</head>
<body class="p-5">
    <h1 class="text-center">1A2B</h1>
    <input id="input" type="text" style="width: 100%;"></input>
    <button id="submit" class="btn btn-primary btn-block">送出</button>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>#</th>
                <th>guess</th>
                <th>result</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <script>
        let num = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];
        let answer = [];


        for (let i=0; i<4; i++) {
            let idx = Math.floor(Math.random()*num.length);
            answer.push(num[idx]);
            num.splice(idx, 1);
            }
        
        let times = 0;
        
        $('#submit').click(function() {
            let a = 0
            let b = 0;
            let g = $('#input').val();
            $('#input').val('');
            for (let i=0; i<4; i++) {
                let idx = answer.indexOf(g[i]);
            if (idx != -1) {
            if (idx == i) {
                a++;
            } else {
                b++;
            }
        }
    }
    if (a == 4) {
        alert('答對了！');
    }
    times += 1;
    $('tbody').append('<tr><td>' + times + '</td><td>' + g + '</td><td>' + 'a:' + a + 'b:' + b + '</td></tr>');
});
    </script>
</body>
</html>